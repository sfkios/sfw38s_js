/* notify.js v? */ !function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){function e(e,i,n){"string"==typeof n&&(n={className:n}),this.options=g(b,t.isPlainObject(n)?n:{}),this.loadHTML(),this.wrapper=t(f.html),this.options.clickToHide&&this.wrapper.addClass(s+"-hidable"),this.wrapper.data(s,this),this.arrow=this.wrapper.find("."+s+"-arrow"),this.container=this.wrapper.find("."+s+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=S(e),this.elem.data(s,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}var i=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return -1},n="notify",s=n+"js",o=n+"!blank",r={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},a=["l","c","r"],h=["t","m","b"],l=["t","b","l","r"],u={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},c=function(e){var i;return i=[],t.each(e.split(/\W+/),function(t,e){var n;if(r[n=e.toLowerCase().charAt(0)])return i.push(n)}),i},p={},f={name:"core",html:'<div class="'+s+'-wrapper">\n	<div class="'+s+'-container"></div>\n</div>',css:"."},d={"border-radius":["-webkit-","-moz-"]},m=function(e,i){if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var o=p[e];o&&o.cssElem&&(window.console&&console.warn(n+": overwriting style '"+e+"'"),p[e].cssElem.remove()),i.name=e,p[e]=i;var r="";i.classes&&t.each(i.classes,function(e,n){return r+="."+s+"-"+i.name+"-"+e+" {\n",t.each(n,function(e,i){return d[e]&&t.each(d[e],function(t,n){return r+="	"+n+e+": "+i+";\n"}),r+="	"+e+": "+i+";\n"}),r+="}\n"}),i.css&&(r+="/* styles for "+i.name+" */\n"+i.css),r&&(i.cssElem=y(r),i.cssElem.attr("id","notify-"+i.name));var a={},h=t(i.html);w("html",h,a),w("text",h,a),i.fields=a},y=function(e){var i;(i=_("style")).attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(n){i[0].styleSheet.cssText=e}return i},w=function(e,i,n){var s;return"html"!==e&&(e="text"),v(i,"["+(s="data-notify-"+e)+"]").each(function(){var i;(i=t(this).attr(s))||(i=o),n[i]=e})},v=function(t,e){return t.is(e)?t:t.find(e)},b={clickToHide:!0,autoHide:!0,autoHideDelay:3e3,arrowShow:!1,arrowSize:5,breakNewLines:!1,elementPosition:"bottom",globalPosition:"bottom",style:"bootstrap",className:"error",showAnimation:"fadeIn",showDuration:0,hideAnimation:"fadeOut",hideDuration:0,gap:0},g=function(e,i){var n;return(n=function(){}).prototype=e,t.extend(!0,new n,i)},_=function(e){return t("<"+e+"></"+e+">")},k={},S=function(e){return e.is("[type=radio]")&&(e=e.parents("form:first").find("[type=radio]").filter(function(i,n){return t(n).attr("name")===e.attr("name")}).first()),e},x=function(t,e,i){var n;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return void 0!==t[n=r[u[e.charAt(0)]]]&&(e=r[n.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},C=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},P=function(t){return P.e=P.e||_("div"),P.e.text(t).html()};e.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},e.prototype.show=function(t,e){var i,n,s,o,r,a;if(n=(a=this,function(){if(t||a.elem||a.destroy(),e)return e()}),r=this.container.parent().parents(":hidden").length>0,s=this.container.add(this.arrow),i=[],r&&t)o="show";else if(r&&!t)o="hide";else if(!r&&t)o=this.options.showAnimation,i.push(this.options.showDuration);else{if(r||t)return n();o=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),s[o].apply(s,i)},e.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],n=e[1],o=r[i],a=r[n],h=i+"|"+n,l=k[h];if(!l||!document.contains(l[0])){l=k[h]=_("div");var u={};u[o]=0,"middle"===a?u.top="45%":"center"===a?u.left="45%":u[a]=0,l.css(u).addClass(s+"-corner"),t("body").append(l)}return l.prepend(this.wrapper)},e.prototype.setElementPosition=function(){var e,n,s,o,c,p,f,d,m,y,w,v,b,g,_,k,S,P,L,H,j,A,M,N,T,D,E;for(A=(T=this.getPosition())[0],j=T[1],T[2],w=this.elem.position(),d=this.elem.outerHeight(),v=this.elem.outerWidth(),m=this.elem.innerHeight(),y=this.elem.innerWidth(),E=this.wrapper.position(),c=this.container.height(),p=this.container.width(),S=r[A],(f={})[H=r[L=u[A]]]="b"===A?d:"r"===A?v:0,x(f,"top",w.top-E.top),x(f,"left",w.left-E.left),b=0,_=(D=["top","left"]).length;b<_;b++)M=D[b],(P=parseInt(this.elem.css("margin-"+M),10))&&x(f,M,P);if(x(f,H,Math.max(0,this.options.gap-(this.options.arrowShow?s:0))),this.options.arrowShow){for(s=this.options.arrowSize,n=t.extend({},f),e=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",g=0,k=l.length;g<k;g++)N=r[M=l[g]],M!==L&&(o=N===S?e:"transparent",n["border-"+N]=s+"px solid "+o);x(f,r[L],s),i.call(l,j)>=0&&x(n,r[j],2*s)}else this.arrow.hide();if(i.call(h,A)>=0?(x(f,"left",C(j,p,v)),n&&x(n,"left",C(j,s,y))):i.call(a,A)>=0&&(x(f,"top",C(j,c,d)),n&&x(n,"top",C(j,s,m))),this.container.is(":visible")&&(f.display="block"),this.container.removeAttr("style").css(f),n)return this.arrow.removeAttr("style").css(n)},e.prototype.getPosition=function(){var t,e,n,s,o,r,u;if(0===(t=c(this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition))).length&&(t[0]="b"),e=t[0],0>i.call(l,e))throw"Must be one of ["+l+"]";return(1===t.length||(n=t[0],i.call(h,n)>=0&&(s=t[1],0>i.call(a,s)))||(o=t[0],i.call(a,o)>=0&&(r=t[1],0>i.call(h,r))))&&(t[1]=(u=t[0],i.call(a,u)>=0?"m":"l")),2===t.length&&(t[2]=t[1]),t},e.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=p[t]))throw"Missing style: "+t;return e},e.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,function(t){return s+"-"+i.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},e.prototype.run=function(e,i){var n,s,r,a,h;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),!this.container||e){if(this.container||e){for(r in s={},t.isPlainObject(e)?s=e:s[o]=e,s)n=s[r],(a=this.userFields[r])&&("text"===a&&(n=P(n),this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>"))),h=r===o?"":"="+r,v(this.userContainer,"[data-notify-"+a+h+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},e.prototype.destroy=function(){this.wrapper.data(s,null),this.wrapper.remove()},t[n]=function(i,s,o){return i&&i.nodeName||i.jquery?t(i)[n](s,o):(o=s,new e(null,s=i,o)),i},t.fn[n]=function(i,n){return t(this).each(function(){var o=S(t(this)).data(s);o&&o.destroy(),new e(t(this),i,n)}),this},t.extend(t[n],{defaults:function(e){return t.extend(b,e)},addStyle:m,removeStyle:function(t){if(!t)throw"Missing Style name";p[t]&&delete p[t]},pluginOptions:b,getStyle:function(t){return p[t]},insertCSS:y}),m("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{}}),t(function(){y(f.css).attr("id","core-notify"),t(document).on("click","."+s+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+s+"-wrapper",function(e){var i=t(this).data(s);i&&i.show(!1)})})}),$(document.body).on("show.bs.modal",function(){$(".modal").removeData("bs.modal"),$(".popup").removeClass("show"),$("body").removeClass("popup-show")});
